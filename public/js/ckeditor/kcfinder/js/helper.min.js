/** This file is part of KCFinder project
  *
  *      @desc Helper object
  *   @package KCFinder
  *   @version 2.51
  *    @author Pavel Tzonkov <pavelc@users.sourceforge.net>
  * @copyright 2010, 2011 KCFinder Project
  *   @license http://www.opensource.org/licenses/gpl-2.0.php GPLv2
  *   @license http://www.opensource.org/licenses/lgpl-2.1.php LGPLv2
  *      @link http://kcfinder.sunhater.com
  */var _=function(e){return document.getElementById(e)};_.nopx=function(e){return parseInt(e.replace(/^(\d+)px$/,"$1"))};_.unselect=function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}};_.selection=function(e,t,n){if(e.createTextRange){var r=e.createTextRange();r.collapse(!0);r.moveStart("character",t);r.moveEnd("character",n-t);r.select()}else if(e.setSelectionRange)e.setSelectionRange(t,n);else if(e.selectionStart){e.selectionStart=t;e.selectionEnd=n}e.focus()};_.htmlValue=function(e){return e.replace(/\&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")};_.htmlData=function(e){return e.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\ /g,"&nbsp;")};_.jsValue=function(e){return e.replace(/\\/g,"\\\\").replace(/\r?\n/,"\\\n").replace(/\"/g,'\\"').replace(/\'/g,"\\'")};_.basename=function(e){var t=/^.*\/([^\/]+)\/?$/g;return t.test(e)?e.replace(t,"$1"):e};_.dirname=function(e){var t=/^(.*)\/[^\/]+\/?$/g;return t.test(e)?e.replace(t,"$1"):""};_.inArray=function(e,t){if(typeof t=="undefined"||!t.length||!t.push)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1};_.getFileExtension=function(e,t){typeof t=="undefined"&&(t=!0);if(/^.*\.[^\.]*$/.test(e)){var n=e.replace(/^.*\.([^\.]*)$/,"$1");return t?n.toLowerCase(n):n}return""};_.escapeDirs=function(e){var t=/^([a-z]+)\:\/\/([^\/^\:]+)(\:(\d+))?\/(.+)$/,n="";if(t.test(e)){var r=e.replace(t,"$4");n=e.replace(t,"$1://$2");r.length&&(n+=":"+r);n+="/";e=e.replace(t,"$5")}var i=e.split("/"),s="";for(var o=0;o<i.length;o++)s+=encodeURIComponent(i[o])+"/";return n+s.substr(0,s.length-1)};_.outerSpace=function(e,t,n){n||(n="mbp");var r=0;if(/m/i.test(n)){var i=_.nopx($(e).css("margin-"+t));i&&(r+=i)}if(/b/i.test(n)){var s=_.nopx($(e).css("border-"+t+"-width"));s&&(r+=s)}if(/p/i.test(n)){var o=_.nopx($(e).css("padding-"+t));o&&(r+=o)}return r};_.outerLeftSpace=function(e,t){return _.outerSpace(e,"left",t)};_.outerTopSpace=function(e,t){return _.outerSpace(e,"top",t)};_.outerRightSpace=function(e,t){return _.outerSpace(e,"right",t)};_.outerBottomSpace=function(e,t){return _.outerSpace(e,"bottom",t)};_.outerHSpace=function(e,t){return _.outerLeftSpace(e,t)+_.outerRightSpace(e,t)};_.outerVSpace=function(e,t){return _.outerTopSpace(e,t)+_.outerBottomSpace(e,t)};_.kuki={prefix:"",duration:356,domain:"",path:"",secure:!1,set:function(e,t,n,r,i,s){e=this.prefix+e;n==null&&(n=this.duration);s==null&&(s=this.secure);r==null&&this.domain&&(r=this.domain);i==null&&this.path&&(i=this.path);s=s?!0:!1;var o=new Date;o.setTime(o.getTime()+n*864e5);var u=o.toGMTString(),a=e+"="+t+"; expires="+u;r!=null&&(a+="; domain="+r);i!=null&&(a+="; path="+i);s&&(a+="; secure");return(document.cookie=a)?!0:!1},get:function(e){e=this.prefix+e;var t=e+"=",n=document.cookie.split(";"),r;for(var i=0;i<n.length;i++){r=n[i];while(r.charAt(0)==" ")r=r.substring(1,r.length);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return null},del:function(e){return this.set(e,"",-1)},isSet:function(e){return this.get(e)!=null}};_.md5=function(e){var t=function(e,t){return e<<t|e>>>32-t},n=function(e,t){var n,r,i,s,o;i=e&2147483648;s=t&2147483648;n=e&1073741824;r=t&1073741824;o=(e&1073741823)+(t&1073741823);return n&r?o^2147483648^i^s:n|r?o&1073741824?o^3221225472^i^s:o^1073741824^i^s:o^i^s},r=function(e,t,n){return e&t|~e&n},i=function(e,t,n){return e&n|t&~n},s=function(e,t,n){return e^t^n},o=function(e,t,n){return t^(e|~n)},u=function(e,i,s,o,u,a,f){e=n(e,n(n(r(i,s,o),u),f));return n(t(e,a),i)},a=function(e,r,s,o,u,a,f){e=n(e,n(n(i(r,s,o),u),f));return n(t(e,a),r)},f=function(e,r,i,o,u,a,f){e=n(e,n(n(s(r,i,o),u),f));return n(t(e,a),r)},l=function(e,r,i,s,u,a,f){e=n(e,n(n(o(r,i,s),u),f));return n(t(e,a),r)},c=function(e){var t,n=e.length,r=n+8,i=(r-r%64)/64,s=(i+1)*16,o=[s-1],u=0,a=0;while(a<n){t=(a-a%4)/4;u=a%4*8;o[t]=o[t]|e.charCodeAt(a)<<u;a++}t=(a-a%4)/4;u=a%4*8;o[t]=o[t]|128<<u;o[s-2]=n<<3;o[s-1]=n>>>29;return o},h=function(e){var t="",n="",r,i;for(i=0;i<=3;i++){r=e>>>i*8&255;n="0"+r.toString(16);t+=n.substr(n.length-2,2)}return t},p=[],d,v,m,g,y,b,w,E,S,x=7,T=12,N=17,C=22,k=5,L=9,A=14,O=20,M=4,D=11,P=16,H=23,B=6,j=10,F=15,I=21;e=_.utf8encode(e);p=c(e);b=1732584193;w=4023233417;E=2562383102;S=271733878;for(d=0;d<p.length;d+=16){v=b;m=w;g=E;y=S;b=u(b,w,E,S,p[d+0],x,3614090360);S=u(S,b,w,E,p[d+1],T,3905402710);E=u(E,S,b,w,p[d+2],N,606105819);w=u(w,E,S,b,p[d+3],C,3250441966);b=u(b,w,E,S,p[d+4],x,4118548399);S=u(S,b,w,E,p[d+5],T,1200080426);E=u(E,S,b,w,p[d+6],N,2821735955);w=u(w,E,S,b,p[d+7],C,4249261313);b=u(b,w,E,S,p[d+8],x,1770035416);S=u(S,b,w,E,p[d+9],T,2336552879);E=u(E,S,b,w,p[d+10],N,4294925233);w=u(w,E,S,b,p[d+11],C,2304563134);b=u(b,w,E,S,p[d+12],x,1804603682);S=u(S,b,w,E,p[d+13],T,4254626195);E=u(E,S,b,w,p[d+14],N,2792965006);w=u(w,E,S,b,p[d+15],C,1236535329);b=a(b,w,E,S,p[d+1],k,4129170786);S=a(S,b,w,E,p[d+6],L,3225465664);E=a(E,S,b,w,p[d+11],A,643717713);w=a(w,E,S,b,p[d+0],O,3921069994);b=a(b,w,E,S,p[d+5],k,3593408605);S=a(S,b,w,E,p[d+10],L,38016083);E=a(E,S,b,w,p[d+15],A,3634488961);w=a(w,E,S,b,p[d+4],O,3889429448);b=a(b,w,E,S,p[d+9],k,568446438);S=a(S,b,w,E,p[d+14],L,3275163606);E=a(E,S,b,w,p[d+3],A,4107603335);w=a(w,E,S,b,p[d+8],O,1163531501);b=a(b,w,E,S,p[d+13],k,2850285829);S=a(S,b,w,E,p[d+2],L,4243563512);E=a(E,S,b,w,p[d+7],A,1735328473);w=a(w,E,S,b,p[d+12],O,2368359562);b=f(b,w,E,S,p[d+5],M,4294588738);S=f(S,b,w,E,p[d+8],D,2272392833);E=f(E,S,b,w,p[d+11],P,1839030562);w=f(w,E,S,b,p[d+14],H,4259657740);b=f(b,w,E,S,p[d+1],M,2763975236);S=f(S,b,w,E,p[d+4],D,1272893353);E=f(E,S,b,w,p[d+7],P,4139469664);w=f(w,E,S,b,p[d+10],H,3200236656);b=f(b,w,E,S,p[d+13],M,681279174);S=f(S,b,w,E,p[d+0],D,3936430074);E=f(E,S,b,w,p[d+3],P,3572445317);w=f(w,E,S,b,p[d+6],H,76029189);b=f(b,w,E,S,p[d+9],M,3654602809);S=f(S,b,w,E,p[d+12],D,3873151461);E=f(E,S,b,w,p[d+15],P,530742520);w=f(w,E,S,b,p[d+2],H,3299628645);b=l(b,w,E,S,p[d+0],B,4096336452);S=l(S,b,w,E,p[d+7],j,1126891415);E=l(E,S,b,w,p[d+14],F,2878612391);w=l(w,E,S,b,p[d+5],I,4237533241);b=l(b,w,E,S,p[d+12],B,1700485571);S=l(S,b,w,E,p[d+3],j,2399980690);E=l(E,S,b,w,p[d+10],F,4293915773);w=l(w,E,S,b,p[d+1],I,2240044497);b=l(b,w,E,S,p[d+8],B,1873313359);S=l(S,b,w,E,p[d+15],j,4264355552);E=l(E,S,b,w,p[d+6],F,2734768916);w=l(w,E,S,b,p[d+13],I,1309151649);b=l(b,w,E,S,p[d+4],B,4149444226);S=l(S,b,w,E,p[d+11],j,3174756917);E=l(E,S,b,w,p[d+2],F,718787259);w=l(w,E,S,b,p[d+9],I,3951481745);b=n(b,v);w=n(w,m);E=n(E,g);S=n(S,y)}var q=h(b)+h(w)+h(E)+h(S);return q.toLowerCase()};_.utf8encode=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128)t+=String.fromCharCode(r);else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t};